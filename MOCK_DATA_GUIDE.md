# Mock数据系统使用指南

## 🎯 概述

后台管理系统现在完全使用Mock数据，无需真实的后端API即可完整演示所有功能。

## 🚀 快速启动

### 1. 安装依赖
```bash
npm install
```

### 2. 启动开发服务器
```bash
npm run dev
```

### 3. 访问系统
- 打开浏览器访问: `http://localhost:5173`
- 系统会自动重定向到登录页面

## 🔐 演示账号

系统提供三个演示账号，每个账号都有不同的权限级别：

### 管理员账号
- **用户名**: `admin`
- **密码**: `admin123`
- **权限**: 超级管理员，拥有所有权限

### 编辑者账号
- **用户名**: `editor`
- **密码**: `editor123`
- **权限**: 可以创建和编辑工作流，查看监控数据

### 查看者账号
- **用户名**: `viewer`
- **密码**: `viewer123`
- **权限**: 只能查看数据，无编辑权限

## 📊 Mock数据特性

### 1. 真实的API延迟
- 所有Mock API都模拟真实的网络延迟（300ms-1500ms）
- 随机的成功/失败响应，模拟真实环境

### 2. 完整的数据结构
- **用户管理**: 6个模拟用户，包含完整的用户信息
- **系统统计**: 动态更新的系统指标
- **通知系统**: 5条不同类型的系统通知
- **工作流数据**: 5个示例工作流，包含执行历史
- **系统日志**: 模拟的系统操作日志

### 3. 数据持久化
- 用户登录状态会保存到localStorage
- 用户偏好设置会自动保存
- 通知已读状态会保持

## 🛠️ 功能演示

### 仪表板
- ✅ 系统统计卡片（用户数、工作流数等）
- ✅ 实时系统监控（CPU、内存、磁盘使用率）
- ✅ 系统通知列表
- ✅ 最近活动记录
- ✅ 快速操作入口

### 用户管理
- ✅ 用户列表展示
- ✅ 用户状态管理（激活/禁用/暂停）
- ✅ 用户信息编辑
- ✅ 角色权限管理

### 工作流管理
- ✅ 工作流列表
- ✅ 工作流创建/编辑/删除
- ✅ 工作流执行和监控
- ✅ 模板管理

### 系统监控
- ✅ 实时性能指标
- ✅ 系统健康状态
- ✅ 历史数据图表

### 系统设置
- ✅ 基础配置管理
- ✅ 主题切换（亮色/暗色）
- ✅ 用户偏好设置

## 📁 Mock数据文件结构

```
src/mock/
├── data.ts          # Mock数据定义
├── api.ts           # Mock API服务
└── README.md        # Mock系统说明
```

### 主要Mock数据类型

1. **用户数据** (`mockUsers`)
   - 6个不同角色的用户
   - 完整的用户信息和权限

2. **系统统计** (`mockStats`)
   - 动态更新的系统指标
   - 实时性能数据

3. **通知数据** (`mockNotifications`)
   - 不同类型的系统通知
   - 支持操作按钮

4. **工作流数据** (`mockWorkflows`)
   - 5个示例工作流
   - 包含执行统计和状态

## 🔧 自定义Mock数据

### 添加新用户
在 `src/mock/data.ts` 中的 `mockUsers` 数组添加新用户：

```typescript
{
  id: '7',
  username: 'newuser',
  email: 'newuser@example.com',
  firstName: '新',
  lastName: '用户',
  role: 'editor',
  status: 'active',
  // ... 其他字段
}
```

### 修改系统统计
在 `src/mock/data.ts` 中修改 `mockStats` 对象：

```typescript
export const mockStats: AdminStats = {
  totalUsers: 200,        // 修改用户总数
  activeUsers: 180,       // 修改活跃用户数
  // ... 其他统计数据
}
```

### 添加新通知
在 `mockNotifications` 数组中添加新通知：

```typescript
{
  id: '6',
  type: 'info',
  title: '新功能发布',
  message: '系统新增了批量操作功能',
  timestamp: new Date(),
  read: false
}
```

## 🎨 主题系统

系统支持亮色和暗色两种主题：

- **亮色主题**: 默认主题，适合日间使用
- **暗色主题**: 护眼主题，适合夜间使用

主题切换按钮位于：
- 登录页面右上角
- 管理后台顶部导航栏

## 📱 响应式设计

系统完全支持响应式设计：
- **桌面端**: 完整的侧边栏和多列布局
- **平板端**: 自适应布局调整
- **移动端**: 折叠式侧边栏和单列布局

## 🔍 调试和开发

### 查看Mock API调用
打开浏览器开发者工具，在Console中可以看到：
- Mock API调用日志
- 数据加载状态
- 错误信息（如果有）

### 模拟网络错误
Mock API有5%的概率返回错误，用于测试错误处理：
- 登录失败
- 数据加载失败
- 操作执行失败

### 性能测试
Mock API包含随机延迟，用于测试：
- 加载状态显示
- 用户体验优化
- 并发请求处理

## 🚨 注意事项

1. **数据不会真实保存**: 刷新页面后，除了localStorage中的数据外，其他修改会重置

2. **权限验证**: 系统会根据登录用户的角色显示不同的菜单和功能

3. **Mock延迟**: 所有操作都有模拟的网络延迟，这是正常现象

4. **错误处理**: 系统包含完整的错误处理机制，会显示友好的错误提示

## 🔄 从Mock切换到真实API

当需要连接真实后端时，只需要：

1. 修改 `src/services/auth.ts` 中的API调用
2. 替换Mock API为真实的HTTP请求
3. 更新环境变量中的API地址

```typescript
// 从这样的Mock调用
const response = await MockAPI.Auth.login(credentials)

// 改为真实的HTTP调用
const response = await axios.post('/api/auth/login', credentials)
```

## 📞 技术支持

如果在使用过程中遇到问题：

1. 检查浏览器控制台是否有错误信息
2. 确认Node.js版本 >= 20.19.0
3. 尝试清除浏览器缓存和localStorage
4. 重新安装依赖: `rm -rf node_modules package-lock.json && npm install`

---

**祝您使用愉快！** 🎉
